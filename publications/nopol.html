<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nopol: Automatic Repair of Conditional Statement Bugs in Java Programs | Thomas Durieux</title>
    <meta name="description" content="Thomas Durieux, Post-doc in software engineering.">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" color="#648fa8" href="/safari-pinned-tab.svg">
  <meta name="msapplication-TileColor" content="#648fa8">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.93b43ad6.css" as="style"><link rel="preload" href="/assets/js/app.edab3b11.js" as="script"><link rel="preload" href="/assets/js/2.7e7fd35c.js" as="script"><link rel="preload" href="/assets/js/48.a9f32415.js" as="script"><link rel="preload" href="/assets/js/12.1af56813.js" as="script"><link rel="prefetch" href="/assets/js/10.cab3b285.js"><link rel="prefetch" href="/assets/js/11.96aa7512.js"><link rel="prefetch" href="/assets/js/13.db9f4615.js"><link rel="prefetch" href="/assets/js/14.11dabee1.js"><link rel="prefetch" href="/assets/js/15.e70fa02a.js"><link rel="prefetch" href="/assets/js/16.53415ea7.js"><link rel="prefetch" href="/assets/js/17.df1f485c.js"><link rel="prefetch" href="/assets/js/18.1ec1d80c.js"><link rel="prefetch" href="/assets/js/19.a9731c57.js"><link rel="prefetch" href="/assets/js/20.7b7978e6.js"><link rel="prefetch" href="/assets/js/21.0e3058d9.js"><link rel="prefetch" href="/assets/js/22.fc6c891c.js"><link rel="prefetch" href="/assets/js/23.12a8275b.js"><link rel="prefetch" href="/assets/js/24.1867696e.js"><link rel="prefetch" href="/assets/js/25.8c743836.js"><link rel="prefetch" href="/assets/js/26.f2f2bb4e.js"><link rel="prefetch" href="/assets/js/27.97755d32.js"><link rel="prefetch" href="/assets/js/28.1f2ffab0.js"><link rel="prefetch" href="/assets/js/29.9fd0ab1f.js"><link rel="prefetch" href="/assets/js/3.b6e84732.js"><link rel="prefetch" href="/assets/js/30.c4a71803.js"><link rel="prefetch" href="/assets/js/31.0199681f.js"><link rel="prefetch" href="/assets/js/32.726f7c64.js"><link rel="prefetch" href="/assets/js/33.36d10999.js"><link rel="prefetch" href="/assets/js/34.80cb581e.js"><link rel="prefetch" href="/assets/js/35.2ddecb2f.js"><link rel="prefetch" href="/assets/js/36.bb555728.js"><link rel="prefetch" href="/assets/js/37.c356061e.js"><link rel="prefetch" href="/assets/js/38.e7951942.js"><link rel="prefetch" href="/assets/js/39.b95de062.js"><link rel="prefetch" href="/assets/js/4.5e4429c9.js"><link rel="prefetch" href="/assets/js/40.2c21189b.js"><link rel="prefetch" href="/assets/js/41.ec9b91b2.js"><link rel="prefetch" href="/assets/js/42.de43b553.js"><link rel="prefetch" href="/assets/js/43.993c9de9.js"><link rel="prefetch" href="/assets/js/44.427848dd.js"><link rel="prefetch" href="/assets/js/45.a11eb6f3.js"><link rel="prefetch" href="/assets/js/46.f30ef43c.js"><link rel="prefetch" href="/assets/js/47.23e68ae4.js"><link rel="prefetch" href="/assets/js/49.269c1cfb.js"><link rel="prefetch" href="/assets/js/5.2301ec83.js"><link rel="prefetch" href="/assets/js/50.e4388c6d.js"><link rel="prefetch" href="/assets/js/51.a0e729fa.js"><link rel="prefetch" href="/assets/js/52.738ea224.js"><link rel="prefetch" href="/assets/js/53.acd12b51.js"><link rel="prefetch" href="/assets/js/54.7b7e42c3.js"><link rel="prefetch" href="/assets/js/55.d07b2a2d.js"><link rel="prefetch" href="/assets/js/56.7eeccc00.js"><link rel="prefetch" href="/assets/js/57.82900bf7.js"><link rel="prefetch" href="/assets/js/58.09637635.js"><link rel="prefetch" href="/assets/js/59.bebd7a6d.js"><link rel="prefetch" href="/assets/js/6.4f179d36.js"><link rel="prefetch" href="/assets/js/7.7a6d8d81.js"><link rel="prefetch" href="/assets/js/8.e4e85c5d.js"><link rel="prefetch" href="/assets/js/9.246d887a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.93b43ad6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Thomas Durieux</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/research.html" class="nav-link">Research</a></div><div class="nav-item"><a href="/publications.html" class="nav-link">Publications</a></div><div class="nav-item"><a href="/projects/" class="nav-link">Software Artifacts</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/research.html" class="nav-link">Research</a></div><div class="nav-item"><a href="/publications.html" class="nav-link">Publications</a></div><div class="nav-item"><a href="/projects/" class="nav-link">Software Artifacts</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Publications</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/publications/35+-million-travis-jobs.html" class="sidebar-link">An Analysis of 35+ Million Jobs of Travis CI</a></li><li><a href="/publications/analysis-of-47-587-ethereum.html" class="sidebar-link">Empirical Review of Automated Analysis Tools on 47 587 Ethereum Smart Contracts</a></li><li><a href="/publications/apr-quixbugs-long.html" class="sidebar-link">A comprehensive study of automatic program repair on the QuixBugs benchmark</a></li><li><a href="/publications/apr-quixbugs.html" class="sidebar-link">A Comprehensive Study of Automatic Program Repair on the QuixBugs Benchmark</a></li><li><a href="/publications/bikiniproxy.html" class="sidebar-link">Fully Automated HTML and Javascript Rewriting for Constructing a Self-healing Web Proxy</a></li><li><a href="/publications/bloat-over-time.html" class="sidebar-link">A Longitudinal Analysis of Bloated Java Dependencies</a></li><li><a href="/publications/bugblock.html" class="sidebar-link">Fully Automated HTML and Javascript Rewriting for Constructing a Self-healing Web Proxy</a></li><li><a href="/publications/clone-changes.html" class="sidebar-link">A large-scale study on human-cloned changes for automated program repair</a></li><li><a href="/publications/defects4j-dissection.html" class="sidebar-link">Dissection of a Bug Dataset: Anatomy of 395 Patches from Defects4J</a></li><li><a href="/publications/defects4j-repair.html" class="sidebar-link">Automatic repair of real bugs in java: a large-scale experiment on the defects4j dataset</a></li><li><a href="/publications/duets.html" class="sidebar-link">DUETS: A Dataset of Reproducible Pairs of Java Library-Clients</a></li><li><a href="/publications/dynamoth.html" class="sidebar-link">DynaMoth: Dynamic Code Synthesis for Automatic Program Repair</a></li><li><a href="/publications/failure-oblivious-search-space.html" class="sidebar-link">Exhaustive Exploration of the Failure-oblivious Computing Search Space</a></li><li><a href="/publications/itzal.html" class="sidebar-link">Production-Driven Patch Generation</a></li><li><a href="/publications/json-behavior.html" class="sidebar-link">The Behavioral Diversity of Java JSON Libraries</a></li><li><a href="/publications/nopol.html" class="active sidebar-link">Nopol: Automatic Repair of Conditional Statement Bugs in Java Programs</a></li><li><a href="/publications/npefix.html" class="sidebar-link">Dynamic Patch Generation for Null Pointer Exceptions Using Metaprogramming</a></li><li><a href="/publications/ods.html" class="sidebar-link">Automated Classification of Overfitting Patches with Statically Extracted Code Features</a></li><li><a href="/publications/patch-overvitting.html" class="sidebar-link">Alleviating Patch Overfitting with Automatic Test Generation: A Study of Feasibility and Effectiveness for the Nopol Repair System</a></li><li><a href="/publications/pdd.html" class="sidebar-link">Towards an automated approach for bug fix pattern detection</a></li><li><a href="/publications/repairnator.html" class="sidebar-link">Repairnator patches programs automatically</a></li><li><a href="/publications/repairthemall.html" class="sidebar-link">Empirical Review of Java Program Repair Tools: A Large-Scale Experiment on 2 141 Bugs and 23 551 Repair Attempts</a></li><li><a href="/publications/restarted-and-flaky-builds.html" class="sidebar-link">Empirical Study of Restarted and Flaky Builds on Travis CI</a></li><li><a href="/publications/smartbugs.html" class="sidebar-link">SmartBugs: a framework to analyze solidity smart contracts</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="nopol-automatic-repair-of-conditional-statement-bugs-in-java-programs"><a href="#nopol-automatic-repair-of-conditional-statement-bugs-in-java-programs" aria-hidden="true" class="header-anchor">#</a> Nopol: Automatic Repair of Conditional Statement Bugs in Java Programs</h1> <p>Proceedings of IEEE Transactions on Software Engineering (<em>TSE</em>)</p> <span class="author"><a href="http://jifeng-xuan.com/" target="_blank" rel="noopener noreferrer"><span class="firstname">J.</span> <span class="lastname">Xuan</span></a></span><span class="author"><a href="http://www.martinezmatias.com/" target="_blank" rel="noopener noreferrer"><span class="firstname">M.</span> <span class="lastname">Martinez</span></a></span><span class="author"><span><span class="firstname">F.</span> <span class="lastname">DeMarco</span></span></span><span class="author"><span><span class="firstname">M.</span> <span class="lastname">Clément</span></span></span><span class="author"><span><span class="firstname">S.</span> <span class="lastname">Lamelas Marcote</span></span></span><span class="author"><a href="https://durieux.me" target="_blank" rel="noopener noreferrer"><span class="firstname">T.</span> <span class="lastname">Durieux</span></a></span><span class="author"><a href="http://www.cril.univ-artois.fr/~leberre/" target="_blank" rel="noopener noreferrer"><span class="firstname">D.</span> <span class="lastname">Le Berre</span></a></span><span class="author"><a href="https://www.monperrus.net/martin/" target="_blank" rel="noopener noreferrer"><span class="firstname">M.</span> <span class="lastname">Monperrus</span></a></span>  <p><a href="https://hal.archives-ouvertes.fr/hal-01285008/document" target="_blank" rel="noopener noreferrer">PDF<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> • <a href="https://doi.org/10.1109/TSE.2016.2560811" target="_blank" rel="noopener noreferrer">DOI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> • <a href="https://github.com/SpoonLabs/nopol" target="_blank" rel="noopener noreferrer">Source code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> • <a href="https://github.com/SpoonLabs/nopol-experiments" target="_blank" rel="noopener noreferrer">Experiment Results<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="abstract"><a href="#abstract" aria-hidden="true" class="header-anchor">#</a> Abstract</h2> <p>We propose NOPOL, an approach to automatic repair of buggy conditional statements (i.e., if-then-else statements). This approach takes a buggy program as well as a test suite as input and generates a patch with a conditional expression as output. The test suite is required to contain passing test cases to model the expected behavior of the program and at least one failing test case that reveals the bug to be repaired. The process of NOPOL consists of three major phases. First, NOPOL employs angelic fix localization to identify expected values of a condition during the test execution. Second, runtime trace collection is used to collect variables and their actual values, including primitive data types and objected-oriented features (e.g., nullness checks), to serve as building blocks for patch generation. Third, NOPOL encodes these collected data into an instance of a Satisfiability Modulo Theory (SMT) problem; then a feasible solution to the SMT instance is translated back into a code patch. We evaluate NOPOL on 22 real-world bugs (16 bugs with buggy IF conditions and 6 bugs with missing preconditions) on two large open-source projects, namely Apache Commons Math and Apache Commons Lang. Empirical analysis on these bugs shows that our approach can effectively fix bugs with buggy IF conditions and missing preconditions. We illustrate the capabilities and limitations of NOPOL using case studies of real bug fixes.</p> <div class="language-bibtex line-numbers-mode"><pre class="language-text"><code>@article{nopol,
author = {Xuan, Jifeng and Martinez, Matias and Demarco, Favio and Cl{\'e}ment, Maxime and Marcote, Sebastian Lamelas and Durieux, Thomas and Le Berre, Daniel and Monperrus, Martin},
journal = {Transactions on Software Engineering (TSE)},
publisher = {IEEE},
title = {Nopol: Automatic repair of conditional statement bugs in java programs},
year = {2016}
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">25/05/2022</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/publications/json-behavior.html" class="prev">
          The Behavioral Diversity of Java JSON Libraries
        </a></span> <span class="next"><a href="/publications/npefix.html">
          Dynamic Patch Generation for Null Pointer Exceptions Using Metaprogramming
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.edab3b11.js" defer></script><script src="/assets/js/2.7e7fd35c.js" defer></script><script src="/assets/js/48.a9f32415.js" defer></script><script src="/assets/js/12.1af56813.js" defer></script>
  </body>
</html>
