<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Automatic repair of real bugs in java: a large-scale experiment on the defects4j dataset | Thomas Durieux</title>
    <meta name="description" content="Thomas Durieux, Post-doc in software engineering.">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" color="#648fa8" href="/safari-pinned-tab.svg">
  <meta name="msapplication-TileColor" content="#648fa8">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.93b43ad6.css" as="style"><link rel="preload" href="/assets/js/app.951e0c9d.js" as="script"><link rel="preload" href="/assets/js/2.7e7fd35c.js" as="script"><link rel="preload" href="/assets/js/42.ebb4bd15.js" as="script"><link rel="preload" href="/assets/js/12.87b4fe0b.js" as="script"><link rel="prefetch" href="/assets/js/10.cab3b285.js"><link rel="prefetch" href="/assets/js/11.74136590.js"><link rel="prefetch" href="/assets/js/13.52a75b99.js"><link rel="prefetch" href="/assets/js/14.11dabee1.js"><link rel="prefetch" href="/assets/js/15.e70fa02a.js"><link rel="prefetch" href="/assets/js/16.53415ea7.js"><link rel="prefetch" href="/assets/js/17.df1f485c.js"><link rel="prefetch" href="/assets/js/18.1ec1d80c.js"><link rel="prefetch" href="/assets/js/19.a1967c68.js"><link rel="prefetch" href="/assets/js/20.5ca75219.js"><link rel="prefetch" href="/assets/js/21.2fa39fe8.js"><link rel="prefetch" href="/assets/js/22.fc6c891c.js"><link rel="prefetch" href="/assets/js/23.12a8275b.js"><link rel="prefetch" href="/assets/js/24.92a8d0e7.js"><link rel="prefetch" href="/assets/js/25.8c743836.js"><link rel="prefetch" href="/assets/js/26.734f9504.js"><link rel="prefetch" href="/assets/js/27.7dd14ff5.js"><link rel="prefetch" href="/assets/js/28.2fa1415a.js"><link rel="prefetch" href="/assets/js/29.67c88397.js"><link rel="prefetch" href="/assets/js/3.b6e84732.js"><link rel="prefetch" href="/assets/js/30.c4a71803.js"><link rel="prefetch" href="/assets/js/31.27f69065.js"><link rel="prefetch" href="/assets/js/32.4e9b0acc.js"><link rel="prefetch" href="/assets/js/33.6889b62b.js"><link rel="prefetch" href="/assets/js/34.9d8ddf3d.js"><link rel="prefetch" href="/assets/js/35.001d98c2.js"><link rel="prefetch" href="/assets/js/36.8a014c30.js"><link rel="prefetch" href="/assets/js/37.cc363f80.js"><link rel="prefetch" href="/assets/js/38.bf06cf5f.js"><link rel="prefetch" href="/assets/js/39.b95de062.js"><link rel="prefetch" href="/assets/js/4.5e4429c9.js"><link rel="prefetch" href="/assets/js/40.ccc24505.js"><link rel="prefetch" href="/assets/js/41.ec9b91b2.js"><link rel="prefetch" href="/assets/js/43.56dbc3e2.js"><link rel="prefetch" href="/assets/js/44.a1eb6e6c.js"><link rel="prefetch" href="/assets/js/45.fac9a587.js"><link rel="prefetch" href="/assets/js/46.9a0ecac1.js"><link rel="prefetch" href="/assets/js/47.bcfb4b36.js"><link rel="prefetch" href="/assets/js/48.3bfc2ac1.js"><link rel="prefetch" href="/assets/js/49.2dbe66ca.js"><link rel="prefetch" href="/assets/js/5.ec4a14ce.js"><link rel="prefetch" href="/assets/js/50.56bcf531.js"><link rel="prefetch" href="/assets/js/51.921b4f59.js"><link rel="prefetch" href="/assets/js/52.7707d344.js"><link rel="prefetch" href="/assets/js/53.10edbecb.js"><link rel="prefetch" href="/assets/js/54.1593cce8.js"><link rel="prefetch" href="/assets/js/55.7e66748a.js"><link rel="prefetch" href="/assets/js/56.a1b6b1c6.js"><link rel="prefetch" href="/assets/js/57.e9190e5c.js"><link rel="prefetch" href="/assets/js/58.49b21f23.js"><link rel="prefetch" href="/assets/js/59.6cbcc360.js"><link rel="prefetch" href="/assets/js/6.14208200.js"><link rel="prefetch" href="/assets/js/60.d8c9007c.js"><link rel="prefetch" href="/assets/js/61.8358133a.js"><link rel="prefetch" href="/assets/js/62.abd135fc.js"><link rel="prefetch" href="/assets/js/63.9d409442.js"><link rel="prefetch" href="/assets/js/64.15b4d1d5.js"><link rel="prefetch" href="/assets/js/7.622ed571.js"><link rel="prefetch" href="/assets/js/8.e4e85c5d.js"><link rel="prefetch" href="/assets/js/9.246d887a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.93b43ad6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Thomas Durieux</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/research.html" class="nav-link">Research</a></div><div class="nav-item"><a href="/publications.html" class="nav-link">Publications</a></div><div class="nav-item"><a href="/projects/" class="nav-link">Software Artifacts</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/research.html" class="nav-link">Research</a></div><div class="nav-item"><a href="/publications.html" class="nav-link">Publications</a></div><div class="nav-item"><a href="/projects/" class="nav-link">Software Artifacts</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Publications</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/publications/35+-million-travis-jobs.html" class="sidebar-link">An Analysis of 35+ Million Jobs of Travis CI</a></li><li><a href="/publications/analysis-of-47-587-ethereum.html" class="sidebar-link">Empirical Review of Automated Analysis Tools on 47 587 Ethereum Smart Contracts</a></li><li><a href="/publications/apr-quixbugs-long.html" class="sidebar-link">A comprehensive study of automatic program repair on the QuixBugs benchmark</a></li><li><a href="/publications/apr-quixbugs.html" class="sidebar-link">A Comprehensive Study of Automatic Program Repair on the QuixBugs Benchmark</a></li><li><a href="/publications/bikiniproxy.html" class="sidebar-link">Fully Automated HTML and Javascript Rewriting for Constructing a Self-healing Web Proxy</a></li><li><a href="/publications/bloat-over-time.html" class="sidebar-link">A Longitudinal Analysis of Bloated Java Dependencies</a></li><li><a href="/publications/bugblock.html" class="sidebar-link">Fully Automated HTML and Javascript Rewriting for Constructing a Self-healing Web Proxy</a></li><li><a href="/publications/clone-changes.html" class="sidebar-link">A large-scale study on human-cloned changes for automated program repair</a></li><li><a href="/publications/defects4j-dissection.html" class="sidebar-link">Dissection of a Bug Dataset: Anatomy of 395 Patches from Defects4J</a></li><li><a href="/publications/defects4j-repair.html" class="active sidebar-link">Automatic repair of real bugs in java: a large-scale experiment on the defects4j dataset</a></li><li><a href="/publications/duets.html" class="sidebar-link">DUETS: A Dataset of Reproducible Pairs of Java Library-Clients</a></li><li><a href="/publications/dynamoth.html" class="sidebar-link">DynaMoth: Dynamic Code Synthesis for Automatic Program Repair</a></li><li><a href="/publications/empirical-study-of-the-docker-smells-impact.html" class="sidebar-link">Empirical Study of the Docker Smells Impact on the Image Size</a></li><li><a href="/publications/evolution-of-ethereum-weakness.html" class="sidebar-link">Evolution of Automated Weakness Detection in Ethereum Bytecode: a Comprehensive Study</a></li><li><a href="/publications/failure-oblivious-search-space.html" class="sidebar-link">Exhaustive Exploration of the Failure-oblivious Computing Search Space</a></li><li><a href="/publications/itzal.html" class="sidebar-link">Production-Driven Patch Generation</a></li><li><a href="/publications/jdbl.html" class="sidebar-link">Coverage-Based Debloating for Java Bytecode</a></li><li><a href="/publications/json-behavior.html" class="sidebar-link">The Behavioral Diversity of Java JSON Libraries</a></li><li><a href="/publications/nopol.html" class="sidebar-link">Nopol: Automatic Repair of Conditional Statement Bugs in Java Programs</a></li><li><a href="/publications/npefix.html" class="sidebar-link">Dynamic Patch Generation for Null Pointer Exceptions Using Metaprogramming</a></li><li><a href="/publications/ods.html" class="sidebar-link">Automated Classification of Overfitting Patches with Statically Extracted Code Features</a></li><li><a href="/publications/patch-overvitting.html" class="sidebar-link">Alleviating Patch Overfitting with Automatic Test Generation: A Study of Feasibility and Effectiveness for the Nopol Repair System</a></li><li><a href="/publications/pdd.html" class="sidebar-link">Towards an automated approach for bug fix pattern detection</a></li><li><a href="/publications/repairnator.html" class="sidebar-link">Repairnator patches programs automatically</a></li><li><a href="/publications/repairthemall.html" class="sidebar-link">Empirical Review of Java Program Repair Tools: A Large-Scale Experiment on 2 141 Bugs and 23 551 Repair Attempts</a></li><li><a href="/publications/restarted-and-flaky-builds.html" class="sidebar-link">Empirical Study of Restarted and Flaky Builds on Travis CI</a></li><li><a href="/publications/smartbugs-2.0.html" class="sidebar-link">SmartBugs 2.0: An Execution Framework for Weakness Detection in Ethereum Smart Contracts</a></li><li><a href="/publications/smartbugs.html" class="sidebar-link">SmartBugs: a framework to analyze solidity smart contracts</a></li><li><a href="/publications/threats-of-using-llms-in-software-engineering.html" class="sidebar-link">Breaking the Silence: the Threats of Using LLMs in Software Engineering</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="automatic-repair-of-real-bugs-in-java-a-large-scale-experiment-on-the-defects4j-dataset"><a href="#automatic-repair-of-real-bugs-in-java-a-large-scale-experiment-on-the-defects4j-dataset" aria-hidden="true" class="header-anchor">#</a> Automatic repair of real bugs in java: a large-scale experiment on the defects4j dataset</h1> <p>Proceedings of Empirical Software Engineering (<em>EMSE</em>)</p> <span class="author"><a href="http://www.martinezmatias.com/" target="_blank" rel="noopener noreferrer"><span class="firstname">M.</span> <span class="lastname">Martinez</span></a></span><span class="author"><a href="https://durieux.me" target="_blank" rel="noopener noreferrer"><span class="firstname">T.</span> <span class="lastname">Durieux</span></a></span><span class="author"><span><span class="firstname">R.</span> <span class="lastname">Sommerard</span></span></span><span class="author"><a href="http://jifeng-xuan.com/" target="_blank" rel="noopener noreferrer"><span class="firstname">J.</span> <span class="lastname">Xuan</span></a></span><span class="author"><a href="https://www.monperrus.net/martin/" target="_blank" rel="noopener noreferrer"><span class="firstname">M.</span> <span class="lastname">Monperrus</span></a></span>  <p><a href="http://link.springer.com/article/10.1007/s10664-016-9470-4" target="_blank" rel="noopener noreferrer">PDF<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> • <a href="https://doi.org/10.1007/s10664-016-9470-4" target="_blank" rel="noopener noreferrer">DOI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> • <a href="https://durieux.me/slide_defects4j_repair.pdf" target="_blank" rel="noopener noreferrer">Slide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> • <a href="https://github.com/Spirals-Team/defects4j-repair/" target="_blank" rel="noopener noreferrer">Experiment Results<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="abstract"><a href="#abstract" aria-hidden="true" class="header-anchor">#</a> Abstract</h2> <p>Defects4J is a large, peer-reviewed, structured dataset of real-world Java bugs. Each bug in Defects4J comes with a test suite and at least one failing test case that triggers the bug. In this paper, we report on an experiment to explore the effectiveness of automatic test-suite based repair on Defects4J. The result of our experiment shows that the considered state-of-the-art repair methods can generate patches for 47 out of 224 bugs. However, those patches are only test-suite adequate, which means that they pass the test suite and may potentially be incorrect beyond the test-suite satisfaction correctness criterion. We have manually analyzed 84 different patches to assess their real correctness. In total, 9 real Java bugs can be correctly repaired with test-suite based repair. This analysis shows that test-suite based repair suffers from under-specified bugs, for which trivial or incorrect patches still pass the test suite. With respect to practical applicability, it takes on average 14.8 minutes to find a patch. The experiment was done on a scientific grid, totaling 17.6 days of computation time. All the repair systems and experimental results are publicly available on Github in order to facilitate future research on automatic repair.</p> <div class="language-bibtex line-numbers-mode"><pre class="language-text"><code>@article{martinez2016,
author = {Matias Martinez and Thomas Durieux and Romain Sommerard and Jifeng Xuan and Martin Monperrus},
journal = {Empirical Software Engineering (EMSE)},
publisher = {Springer},
title = {Automatic Repair of Real Bugs in Java: A Large-Scale Experiment on the Defects4J Dataset},
year = {2016}
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">24/05/2022</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/publications/defects4j-dissection.html" class="prev">
          Dissection of a Bug Dataset: Anatomy of 395 Patches from Defects4J
        </a></span> <span class="next"><a href="/publications/duets.html">
          DUETS: A Dataset of Reproducible Pairs of Java Library-Clients
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.951e0c9d.js" defer></script><script src="/assets/js/2.7e7fd35c.js" defer></script><script src="/assets/js/42.ebb4bd15.js" defer></script><script src="/assets/js/12.87b4fe0b.js" defer></script>
  </body>
</html>
